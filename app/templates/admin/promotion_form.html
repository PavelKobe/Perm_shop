{% extends "admin/base.html" %}

{% block title %}{{ form_title }}{% endblock %}
{% block page_title %}{{ form_title }}{% endblock %}

{% block header_actions %}
<a href="/admin/promotions" class="btn btn-outline">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
{% endblock %}

{% block content %}
<div class="form-page">
  <form method="post" action="{{ form_action }}" class="promotion-form">
    <div class="form-container">
      <div class="form-card">
        <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫—Ü–∏–∏</h3>
        
        <div class="form-group">
          <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ü–∏–∏ <span class="required">*</span></label>
          <input 
            type="text" 
            id="title" 
            name="title" 
            required 
            value="{{ promotion.title if promotion else '' }}"
            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–∫–∏–¥–∫–∞ 20% –Ω–∞ –∑–∏–º–Ω—é—é –æ–±—É–≤—å"
          >
        </div>
        
        <div class="form-group">
          <label for="discount_text">–¢–µ–∫—Å—Ç —Å–∫–∏–¥–∫–∏</label>
          <input 
            type="text" 
            id="discount_text" 
            name="discount_text" 
            value="{{ promotion.discount_text if promotion and promotion.discount_text else '' }}"
            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: -20% –∏–ª–∏ –î–æ 3000 ‚ÇΩ"
          >
          <small class="form-hint">–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –±–∞–Ω–Ω–µ—Ä–µ</small>
        </div>
        
        <div class="form-group">
          <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
          <textarea 
            id="description" 
            name="description" 
            rows="4"
            placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∞–∫—Ü–∏–∏"
          >{{ promotion.description if promotion and promotion.description else '' }}</textarea>
        </div>
      </div>
      
      <div class="form-card">
        <h3>–ü–µ—Ä–∏–æ–¥ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label for="start_date">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
            <input 
              type="date" 
              id="start_date" 
              name="start_date" 
              value="{{ promotion.start_date.isoformat() if promotion and promotion.start_date else '' }}"
            >
          </div>
          
          <div class="form-group">
            <label for="end_date">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
            <input 
              type="date" 
              id="end_date" 
              name="end_date" 
              value="{{ promotion.end_date.isoformat() if promotion and promotion.end_date else '' }}"
            >
          </div>
        </div>
        <small class="form-hint">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –±–µ—Å—Å—Ä–æ—á–Ω–æ–π –∞–∫—Ü–∏–∏</small>
      </div>
      
      <div class="form-card">
        <h3>–°—Ç–∞—Ç—É—Å</h3>
        
        <div class="form-group">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              name="is_active" 
              value="true"
              {% if not promotion or promotion.is_active %}checked{% endif %}
            >
            <span class="checkmark"></span>
            <span>–ê–∫—Ç–∏–≤–Ω–∞ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ)</span>
          </label>
        </div>
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn btn-primary btn-lg">
          {% if promotion %}üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è{% else %}‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ü–∏—é{% endif %}
        </button>
        <a href="/admin/promotions" class="btn btn-outline">–û—Ç–º–µ–Ω–∞</a>
      </div>
    </div>
  </form>
</div>
{% endblock %}

